# 🎅 우테코 프리코스 3주차 - 크리스마스 프로모션

우테코 프리코스 4주차 미션 **크리스마스 프로모션** 은 비즈니스팀에서 개발팀으로부터 이벤트 메일이 왔고 해당 메일의 내용을 반영해 시스템을 만드는 것입니다.

크리스마스를 맞이하여 `12월` 한 달간 각종 물건들에 대해 할인을 하여 최대한 많은 고객을 끌어모아 일부는 새해 이벤트에도 참여하게 하는 것이 목표 입니다.

---

## 🔍 목차

- ⚙️ 구현할 기능 목록

---

## ⚙️ 구현할 기능 목록

예외 상황이 생기면 `[ERROR]` 로 시작하는 메세지를 출력한 후 다시 입력을 받습니다.

### 0️⃣ 할인 및 프로모션 목록

비즈니스팀에서 요구하는 할인 또는 프로모션 목록 부터 정리를 해보도록 하겠습니다.

**주의 사항**

- 총주문 금액 `10,000`원 이상부터 이벤트 적용
- 음료만 주문은 불가능
- 메뉴는 한 번에 최대 20개까지만 주문 가능

| 프로모션   | 조건                                                                                           | 대상     | 혜택                                        |
|--------|----------------------------------------------------------------------------------------------|--------|-------------------------------------------|
| 증정 이벤트 | 할인 전 총주문 금액이 12만원 이상일 경우                                                                     |        | `샴페인 1개` 증정                               |
|        |                                                                                              |        |                                           |
| 평일 할인  | 방문 날짜 요일이 `일 ~ 목` 일 경우                                                                       | 디저트 메뉴 | 1개당 `2,023` 할인                            |
| 주말 할인  | 방문 날짜 요일이 `금 ~ 토` 일 경우                                                                       | 메인 메뉴  | 1개당 `2,023` 할인                            |
|        |                                                                                              |        |                                           |
| 디데이 할인 | 방문 날짜가 `12/1 ~ 12/25` 일 경우                                                                   | 총주문 금액 | `1,000 + ([날짜 일수 - 1] * 100)` 할인          |
| 특별 할인  | 방문 날짜 `별날` 일 경우 (2023년 `별날` : `12/3` `12/10` `12/17` `12/24` `12/25` `12/31`)                | 총주문 금액 | `1,000` 할인                                |
|        |                                                                                              |        |                                           |
| 이벤트 배지 | 총혜택 금액이 아래의 경우<ul><li>`5천원` 이상 `1만원` 미만</li><li>`1만원` 이상 `2만원` 미만</li><li>`2만원` 이상</li></ul> |        | <ul><li>별</li><li>트리</li><li>산타</li></ul> |

### 1️⃣ 식당 예상 방문 날짜 받기 ✔️

<table>
<tr>
    <th>동작</th>
    <th>예외 상황</th>
</tr>
<tr>
<td><ul>
    <li>
        질문에 해당하는 아래 메세지 출력 ✔️<br>
        <code>안녕하세요! 우테코 식당 12월 이벤트 플래너입니다.<br>12월 중 식당 예상 방문 날짜는 언제인가요? (숫자만 입력해 주세요!)</code>
    </li>
    <li>날짜를 입력받고 잘 입력 받았는지 체크 ✔️</li>
</ul></td>
<td><ul>
    <li>
        입력받은 날짜가 숫자로 변환될 수 없는 경우 ✔️<br>
        <code>[ERROR] 숫자 형식이 아닙니다. 다시 입력해 주세요.</code>
    </li>
    <li>
        입력받은 날짜가 <code>0</code> 또는 <code>32</code> 와 같이 12월에 존재 하지 않을 경우 ✔️<br>
        <code>[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.</code>
    </li>
</ul></td>
</tr>
</table>

### 2️⃣ 주문 받기 ✔️

<table>
<tr>
    <th>동작</th>
    <th>예외 상황</th>
</tr>
<tr>
<td><ul>
    <li>
        질문에 해당하는 아래 메세지 출력 ✔️<br>
        <code>주문하실 메뉴를 메뉴와 개수를 알려 주세요. (e.g. 해산물파스타-2,레드와인-1,초코케이크-1)</code>
    </li>
    <li>입력 값을 <code>,</code> 로 분리 후 각 요소를 <code>-</code> 로 다시 분리 한 뒤 앞은 메뉴 이름, 뒤는 개수로 판단 ✔️</li>
    <li>메뉴 이름과 수량을 통해 주문을 잘 받았는지 체크 ✔️</li>
    <li>
        이후 이벤트 헤택 출력을 위해 다음 안내 메세지 출력 ✔️<br>
        <code>12월 26일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!</code>
    </li>
</ul></td>
<td><ul>
    <li>
        메뉴와 개수 구분자 <code>-</code>가 없는 경우 ✔️<br>
        <code>[ERROR] 메뉴와 숫자를 하이픈(-) 으로 구분하여 다시 입력해 주세요.</code>
    </li>
    <li>
        메뉴의 개수가 숫자로 변환될 수 없는 경우 ✔️<br>
        <code>[ERROR] 유효하지 않은 주문 개수입니다. 다시 입력해 주세요.</code>
    </li>
    <li>
        메뉴의 개수가 1이상이 아닐 경우 ✔️<br>
        <code>[ERROR] 메뉴는 1개 이상 주문이 가능합니다. 다시 입력해 주세요.</code>
    </li>
    <li>
        메뉴가 없을 경우 ✔️<br>
        <code>[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.</code>
    </li>
    <li>
        메뉴가 중복 되었을 경우 (e.g. 시저샐러드-1,시저샐러드-1) ✔️<br>
        <code>[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.</code>
    </li>~~~~
    <li>
        총 메뉴의 개수가 최대 수량을 초과 했을 경우 ✔️<br>
        <code>[ERROR] 메뉴는 총 20개 까지만 주문할 수 있습니다. 다시 입력해 주세요.</code>
    </li>
</ul></td>
</tr>
</table>

### 3️⃣ 주문 메뉴 출력

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        주문 메뉴 종류와 수량을 통해 아래 메세지 출력<br>
        <code>&lt;주문 메뉴&gt;</code><br>
        <code>타파스 1개</code><br>
        <code>제로콜라 1개</code><br>
        또는<br>
        <code>&lt;주문 메뉴&gt;</code><br>
        <code>티본스테이크 1개</code><br>
        <code>바비큐립 1개</code><br>
        <code>초코케이크 2개</code><br>
        <code>제로콜라 1개</code>
    </li>
</ul></td>
<td><ul>
    <li>
        메뉴를 요소로 하는 일급 컬렉션에서 종류와 수량으로 출력 문구를 제작
    </li>
</ul></td>
</tr>
</table>

### 3️⃣ 할인 전 총주문 금액

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        주문 메뉴 종류와 수량을 통해 아래 메세지 출력<br>
        <code>&lt;할인 전 총주문 금액&gt;</code><br>
        <code>8,500원</code><br>
        또는<br>
        <code>&lt;할인 전 총주문 금액&gt;</code><br>
        <code>142,000원</code>
    </li>
</ul></td>
<td><ul>
    <li>
        메뉴를 요소로 하는 일급 컬렉션에서 각 메뉴의 가격과 수량을 통해 단순 총 주문 금액 계산
    </li>
</ul></td>
</tr>
</table>

### 4️⃣ 증정 메뉴 출력

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        증정 프로모션들을 통해 주문에 부합하는지 판별 후 아래 메세지 출력<br>
        <code>&lt;증정 메뉴&gt;</code><br>
        <code>없음</code><br>
        또는<br>
        <code>&lt;증정 메뉴&gt;</code><br>
        <code>샴페인 1개</code>
    </li>
</ul></td>
<td><ul>
    <li>
        프로모션을 담당하는 곳 <code>Controller</code> 은 메뉴 <code>Model</code> 를 통해 조건에 부합한지 판단 후 특정 물품을 증점 상품으로 제공 
    </li>
</ul></td>
</tr>
</table>

### 5️⃣ 혜택 내역 출력

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        헤택 프로모션들을 통해 주문에 부합하는지 판별 후 아래 메세지 출력<br>
        <code>&lt;혜택 내역&gt;</code><br>
        <code>없음</code><br>
        또는<br>
        <code>&lt;혜택 내역&gt;</code><br>
        <code>크리스마스 디데이 할인: -1,200원</code><br>
        <code>평일 할인: -4,046원</code><br>
        <code>특별 할인: -1,000원</code><br>
        <code>증정 이벤트: -25,000원</code>
    </li>
</ul></td>
<td><ul>
    <li>
        프로모션을 담당하는 곳 <code>Controller</code> 에서 함수형 인터페이스로 된 할인 프로모션들을 적용해보아 부합한 것들을 계산
    </li>
    <li>
        증정 프로모션도 계산 후 해당 물품의 가격 또한 할인 금액으로 선정
    </li>
</ul></td>
</tr>
</table>

### 6️⃣ 총헤택 금액 출력

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        헤택 프로모션들을 통해 모든 헤택 계산 후 금액 합을 아래 메세지로 출력<br>
        <code>&lt;총혜택 금액&gt;</code><br>
        <code>0원</code><br>
        또는<br>
        <code>&lt;총혜택 금액&gt;</code><br>
        <code>-31,246원</code>
    </li>
</ul></td>
<td><ul>
    <li>
        프로모션을 담당하는 곳 <code>Controller</code> 에서 헤택 내역 금액들의 총 합 계산
    </li>
</ul></td>
</tr>
</table>

### 7️⃣ 할인 후 예상 결제 금액 출력

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        증정 메뉴를 총 금액으로 두고 모든 헤택내역을 뺀 에상 결제 금액을 아래 메세지로 출력<br>
        <code>&lt;할인 후 예상 결제 금액&gt;</code><br>
        <code>8,500원</code><br>
        또는<br>
        <code>&lt;할인 후 예상 결제 금액&gt;</code><br>
        <code>-135,754원</code>
    </li>
</ul></td>
<td><ul>
    <li>
        프로모션을 담당하는 곳 <code>Controller</code> 에서 <code>[총 주문 금액 + 증정 물품 금액] - [총 할인 금액]</code> 계산
    </li>
</ul></td>
</tr>
</table>

### 8️⃣ 12월 이벤트 배지 출력

<table>
<tr>
    <th>동작</th>
    <th>원리</th>
</tr>
<tr>
<td><ul>
    <li>
        총 헤택 금액을 선정 후 금액 별로 이벤트 배지를 아래 메세지로 출력<br>
        <code>&lt;12월 이벤트 배지&gt;</code><br>
        <code>없음</code><br>
        또는<br>
        <code>&lt;12월 이벤트 배지&gt;</code><br>
        <code>산타</code>
    </li>
</ul></td>
<td><ul>
    <li>
        프로모션을 담당하는 곳에서 총혜택 금액을 통해 배지 계산
    </li>
</ul></td>
</tr>
</table>
